{
  "comments": [
    {
      "key": {
        "uuid": "0a77854d_cea9394c",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 53,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-28T08:18:49Z",
      "side": 1,
      "message": "How about: \n\n    os.getuid() !\u003d 0",
      "range": {
        "startLine": 53,
        "startChar": 14,
        "endLine": 53,
        "endChar": 42
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4635865a_5fc6fdaf",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 53,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-12-28T10:06:19Z",
      "side": 1,
      "message": "But this only available on Unix:\nhttps://docs.python.org/2/library/os.html#os.getuid\n\ngetpass is more portable (also works on Windows).\nhttps://docs.python.org/2/library/getpass.html\n\nI agree this doesn\u0027t matter because gsi_util will only be used on Unix. But it\u0027s a good habit to code in a more portable way.",
      "parentUuid": "0a77854d_cea9394c",
      "range": {
        "startLine": 53,
        "startChar": 14,
        "endLine": 53,
        "endChar": 42
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b9380c7_d9800b02",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 53,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-29T03:32:02Z",
      "side": 1,
      "message": "You are right. I just not feel good for checking the user id with string \u0027root\u0027.\n\nBTW, after more searching. If check the uid, the correct solution is:\n\n    os.geteuid() !\u003d 0",
      "parentUuid": "4635865a_5fc6fdaf",
      "range": {
        "startLine": 53,
        "startChar": 14,
        "endLine": 53,
        "endChar": 42
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d034350_3e994b52",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 54,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-28T08:18:49Z",
      "side": 1,
      "message": "Need to Add the argument to docstring?\n\nOr maybe just using \u0027isinstance(s, basestring)\u0027?",
      "range": {
        "startLine": 54,
        "startChar": 19,
        "endLine": 54,
        "endChar": 24
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c338c822_bf9ecfc6",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 54,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-12-28T10:06:19Z",
      "side": 1,
      "message": "kwargs already documented above (line 42), and they\u0027re just kwargs passed to subprocess.Popen().\n\nDo we want to document every arguments passed to Popen()?\nhttps://docs.python.org/2/library/subprocess.html#subprocess.Popen\n\nWe cannot use isinstance(s, basestring) because it\u0027s still ok to use a list when shell\u003dTrue. e.g., \n\n  p1 \u003d Popen([\"ls -al\"], shell\u003dTrue).\n\nhttps://docs.python.org/2/library/subprocess.html#popen-constructor\n\nIf shell is True, it is *recommended* to pass args as a string rather than as a sequence.",
      "parentUuid": "4d034350_3e994b52",
      "range": {
        "startLine": 54,
        "startChar": 19,
        "endLine": 54,
        "endChar": 24
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85d2f4bc_1fd0d681",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 54,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-29T03:32:02Z",
      "side": 1,
      "message": "Oh got it, I missed the line 42.",
      "parentUuid": "c338c822_bf9ecfc6",
      "range": {
        "startLine": 54,
        "startChar": 19,
        "endLine": 54,
        "endChar": 24
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d53d383d_5883ffba",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 65,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-28T08:18:49Z",
      "side": 1,
      "message": "why need this checking?",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 47
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ba789c9_2f40ebec",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 65,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-12-28T10:06:19Z",
      "side": 1,
      "message": "Because if the caller already redirect this to other places (e.g., another process.stdin or subprocess.STDOUT), we\u0027ll get None from the stdout at line 75 below.",
      "parentUuid": "d53d383d_5883ffba",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 47
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e68ad57_e4fabda1",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 65,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-29T03:32:02Z",
      "side": 1,
      "message": "But in this case, the caller need to call the function like this?\n\n   run_command([\u0027do somthing\u0027], stdout\u003dNone)",
      "parentUuid": "4ba789c9_2f40ebec",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 47
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11e0496b_fae1b28e",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 65,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-29T03:32:02Z",
      "side": 1,
      "message": "But in this case, the caller need to call the function like this?\n\n   run_command([\u0027do somthing\u0027], stdout\u003dNone)",
      "parentUuid": "4ba789c9_2f40ebec",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 47
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3790625d_a61049ad",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 65,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-29T03:32:02Z",
      "side": 1,
      "message": "So, in this case, the caller call the function looks like?\n\n    run_command([\u0027do_something\u0027], stdout\u003dNone)",
      "parentUuid": "4ba789c9_2f40ebec",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 47
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2843c40_26d9bcb5",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 73,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-28T08:18:49Z",
      "side": 1,
      "message": "I think shouldn\u0027t reuse the variable.",
      "range": {
        "startLine": 73,
        "startChar": 37,
        "endLine": 73,
        "endChar": 43
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2703e7b8_c5d3bc3c",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 73,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-12-28T10:06:19Z",
      "side": 1,
      "message": "It\u0027s ok, the ** will unpack the dictionary to keywords arguments for Popen. Even if Popen changes some kwargs there, it won\u0027t be changed here.",
      "parentUuid": "c2843c40_26d9bcb5",
      "range": {
        "startLine": 73,
        "startChar": 37,
        "endLine": 73,
        "endChar": 43
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24c0c2ac_6b75adf3",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 73,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-12-28T10:15:42Z",
      "side": 1,
      "message": "**kwargs is the idiom for using python keyword arguments.\n\nhttps://docs.python.org/2.7/tutorial/controlflow.html#keyword-arguments",
      "parentUuid": "2703e7b8_c5d3bc3c",
      "range": {
        "startLine": 73,
        "startChar": 37,
        "endLine": 73,
        "endChar": 43
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a52e33b_a5fd31cc",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 73,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-29T03:32:02Z",
      "side": 1,
      "message": "Thanks, I missed the comment at line 42. \nGot it now.",
      "parentUuid": "24c0c2ac_6b75adf3",
      "range": {
        "startLine": 73,
        "startChar": 37,
        "endLine": 73,
        "endChar": 43
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6116f102_dfefb667",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 90,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-28T08:18:49Z",
      "side": 1,
      "message": "I think we also need \u0027log_stderr_on_error\u0027 here.",
      "range": {
        "startLine": 90,
        "startChar": 7,
        "endLine": 90,
        "endChar": 17
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73e50bf1_b691e670",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 90,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-12-28T10:06:19Z",
      "side": 1,
      "message": "But here the return code is 0, so it\u0027s not \"on_error\".\nAnd normally most programs won\u0027t have stderr output if no error.\nSounds good?",
      "parentUuid": "6116f102_dfefb667",
      "range": {
        "startLine": 90,
        "startChar": 7,
        "endLine": 90,
        "endChar": 17
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "315a31f0_25125fc0",
        "filename": "gsi/gsi_util/gsi_util/utils/cmd_utils.py",
        "patchSetId": 11
      },
      "lineNbr": 90,
      "author": {
        "id": 1128729
      },
      "writtenOn": "2017-12-29T03:32:02Z",
      "side": 1,
      "message": "Not really:\n\n    https://www.jstorimer.com/blogs/workingwithcode/7766119-when-to-use-stderr-instead-of-stdout\n\nOf course in most case, we don\u0027t need the content in stderr if no error, maybe we could still leave the flexibility?",
      "parentUuid": "73e50bf1_b691e670",
      "range": {
        "startLine": 90,
        "startChar": 7,
        "endLine": 90,
        "endChar": 17
      },
      "revId": "4e02a0670f9cadfbacc58b24be4e3707e22ddf9c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}