{
  "comments": [
    {
      "key": {
        "uuid": "AAAD0n////8\u003d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2012-03-12T11:57:50Z",
      "side": 1,
      "message": "Can I ask you to put a \"ndk:\" prefix to the commit message. The development.git tree is quite large, this usually makes it easier to understand where a patch applies to when looking at the logs.",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADx3///9g\u003d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1003296
      },
      "writtenOn": "2012-03-12T19:23:43Z",
      "side": 1,
      "message": "Will update the message in the next version.",
      "parentUuid": "AAAD0n////8\u003d",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAD0n////k\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/include/asm/errno.h",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2012-03-12T11:57:50Z",
      "side": 1,
      "message": "Please move all these files to android-9 for now.\n\nThere is no official support for android-8 MIPS, and there won\u0027t be because we\u0027re never going to back-port MIPS support for Froyo (this branch has been closed for a long time).\n\nUsing android-9 for now is easier because that\u0027s what the toolchain rebuild scripts expect for all archs. Note that the final system files should probably appear in android-16 or something, corresponding to the API level of the AOSP tree that contains all the MIPS-support patches.\n\nSince for now we only care about generating toolchain binaries, placing these files in android-9 should be enough. We\u0027ll be able to move them up later if needed.",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADx3///9c\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/include/asm/errno.h",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1003296
      },
      "writtenOn": "2012-03-12T19:23:43Z",
      "side": 1,
      "message": "Thanks for explanation. In the next version, I will move to android-9",
      "parentUuid": "AAAD0n////k\u003d",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAD0n////0\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/src/__dso_handle.S",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2012-03-12T11:57:50Z",
      "side": 1,
      "message": "Actually, this check was only needed for ARM for legacy reasons. For x86, and hopefully MIPS, we shouldn\u0027t have a different version of __dso_handle.S for static and dynamic executable. I propose to drop this file, and rename the other one simply \"__dso_handle.S\"",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADx3///8k\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/src/__dso_handle.S",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1003296
      },
      "writtenOn": "2012-03-12T19:23:43Z",
      "side": 1,
      "message": "Got it. I will replace the content of this file with __dso_handle_so.S and remove __dso_handle_so.S",
      "parentUuid": "AAAD0n////0\u003d",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAD0n////4\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/src/atexit.S",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2012-03-12T11:57:50Z",
      "side": 1,
      "message": "I\u0027m not sure this is a correct implementation. The reason why atexit should be in crtbegin_so.o is to be able to reference the hidden __dso_handle variable. This ensures that __cxa_finalize, called at dlclose() time, will properly unregister all corresponding atexit() handler\u0027s from the C library\u0027s global list.\n\nI.e. the first parameter should be a pointer to the __dso_handle here.",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAD0n////w\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/src/crtbegin_dynamic.S",
        "patchSetId": 3
      },
      "lineNbr": 98,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2012-03-12T11:57:50Z",
      "side": 1,
      "message": "I think we got rid of the .ctors and .dtors sections for both ARM and x86. It would be nice if the same was done for MIPS.\n\n(yes, there were some old code lying around defining these sections, but I think they\u0027re not needed anymore).\n\nOr is there some specific reason to keep .ctors/.dtors.\nFor the record, even upstream gcc/glibc for i686 are moving to .init_array/.fini_array.\n\nNOTE: This requires the toolchain to be built with --enable-init-fini-array, iirc.",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADx3///8U\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/src/crtbegin_dynamic.S",
        "patchSetId": 3
      },
      "lineNbr": 98,
      "author": {
        "id": 1003296
      },
      "writtenOn": "2012-03-12T19:23:43Z",
      "side": 1,
      "message": "We will work towards moving to .init_array and .fini_array. This would involve work on the compiler front as this path has been unused on MIPS so far. We will also have to apply some patches to binutils to get this working. \n\nFor now, I request you to go with the ctors/dtors path.",
      "parentUuid": "AAAD0n////w\u003d",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAD0n////s\u003d",
        "filename": "ndk/platforms/android-8/arch-mips/src/crtbegin_so.S",
        "patchSetId": 3
      },
      "lineNbr": 41,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2012-03-12T11:57:50Z",
      "side": 1,
      "message": "again, not sure if .ctors and .dtors sections are needed.",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAD0n////o\u003d",
        "filename": "ndk/platforms/android-9/arch-mips/include/wchar.h",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2012-03-12T11:57:50Z",
      "side": 1,
      "message": "Any specific reason why this file is needed at all?\nandroid-9 already comes with its own copy of \u003cwchar.h\u003e that looks similar.\n\nI suspect this is just a remnant of android-8 which didn\u0027t get it.",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADx3///8Q\u003d",
        "filename": "ndk/platforms/android-9/arch-mips/include/wchar.h",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1003296
      },
      "writtenOn": "2012-03-12T19:23:43Z",
      "side": 1,
      "message": "Without \"#include \u003climits.h\u003e\" in wchar.h, the following lines will fail when configuring gnu stdlibc++ library. (INT_MAX and INT_MIN are undefined.)\n\n#define  WCHAR_MAX   INT_MAX\n#define  WCHAR_MIN   INT_MIN",
      "parentUuid": "AAAD0n////o\u003d",
      "revId": "c1f14a8d4b864300987131969a07359aa526f69f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}