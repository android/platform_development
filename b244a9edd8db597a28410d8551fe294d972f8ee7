{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7e4eda96_542c7c35",
        "filename": "tools/ndk/ndkabidump/soong.py",
        "patchSetId": 3
      },
      "lineNbr": 127,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2021-02-09T00:45:57Z",
      "side": 1,
      "message": "ccross: does this look right to you? This with the following soong.variables is only building 32-bit arm:\n\n{\n  \"DeviceName\": \"generic_arm64\",\n  \"Exclude_draft_ndk_apis\": true,\n  \"HostArch\": \"x86_64\",\n  \"Malloc_not_svelte\": false,\n  \"Ndk_abis\": true,\n  \"Platform_sdk_version\": \"30\",\n  \"Platform_version_active_codenames\": [\n    \"S\"\n  ],\n  \"Safestack\": false\n}\n\nThere doesn\u0027t seem to be much difference between what I have here and build-ndk-prebults.sh aside from the fact that build-ndk-prebuilts.sh does envsetup (but no lunch) and uses m. Neither of those seems to set up any environment that would account for the difference though.",
      "revId": "b244a9edd8db597a28410d8551fe294d972f8ee7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b093242_9b05a50b",
        "filename": "tools/ndk/ndkabidump/soong.py",
        "patchSetId": 3
      },
      "lineNbr": 127,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2021-02-09T01:01:43Z",
      "side": 1,
      "message": "This should correctly configure Soong to support all the architectures.  Maybe you\u0027re only depending on the arm32 rule?",
      "parentUuid": "7e4eda96_542c7c35",
      "revId": "b244a9edd8db597a28410d8551fe294d972f8ee7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6eea169d_438d5919",
        "filename": "tools/ndk/ndkabidump/soong.py",
        "patchSetId": 3
      },
      "lineNbr": 127,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2021-02-09T11:07:42Z",
      "side": 1,
      "message": "Looking at the build.ninja the rules for the other architectures weren\u0027t generated. They *are* generated as part of the regular build though. It\u0027s either something different about using soong_ui directly instead of `m --skip-make`, or it has something to do with the many-ABI build itself. Not sure why that would be when the build-ndk-prebuilts.sh works fine though... will need to dig more.",
      "parentUuid": "0b093242_9b05a50b",
      "revId": "b244a9edd8db597a28410d8551fe294d972f8ee7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ecbc711b_26794ea6",
        "filename": "tools/ndk/ndkabidump/soong.py",
        "patchSetId": 3
      },
      "lineNbr": 127,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2021-02-09T18:34:26Z",
      "side": 1,
      "message": "Do you need --skip-make here too?",
      "parentUuid": "6eea169d_438d5919",
      "revId": "b244a9edd8db597a28410d8551fe294d972f8ee7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19e00fec_9e8582ea",
        "filename": "tools/ndk/ndkabidump/soong.py",
        "patchSetId": 3
      },
      "lineNbr": 127,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2021-02-10T21:36:47Z",
      "side": 1,
      "message": "It seems the lunch target is affecting it. If I build in an unlunched environment I get only arm32. If I build in a bonito environment I get arm32 and arm64. The Ndk_abis setting in soong.variables has no effect for some reason.",
      "parentUuid": "ecbc711b_26794ea6",
      "revId": "b244a9edd8db597a28410d8551fe294d972f8ee7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1afd08b2_82561ec6",
        "filename": "tools/ndk/ndkabidump/soong.py",
        "patchSetId": 3
      },
      "lineNbr": 127,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2021-02-10T21:43:46Z",
      "side": 1,
      "message": "soong_ui doesn\u0027t imply a soong-only build, you still need to add --skip-make.  Otherwise it is ovewriting your soong.variables with the Make-generated one.",
      "parentUuid": "19e00fec_9e8582ea",
      "revId": "b244a9edd8db597a28410d8551fe294d972f8ee7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}