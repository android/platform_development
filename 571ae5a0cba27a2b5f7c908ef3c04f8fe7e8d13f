{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d398ea53_e907b3d9",
        "filename": "tools/otagui/ota_interface.py",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Technically this function isn\u0027t part of the logic to interact with OTA tooling. It\u0027s for managing target files, so probabbly target_lib.py is a better place for it.",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 54,
        "endChar": 38
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d68538ca_1648209e",
        "filename": "tools/otagui/ota_interface.py",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Moved to target_lib.py",
      "parentUuid": "d398ea53_e907b3d9",
      "range": {
        "startLine": 52,
        "startChar": 0,
        "endLine": 54,
        "endChar": 38
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7264b090_a68f095a",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Consider using names like \"isPartialOTA\" or \"isPartial\" instead of \"partialstatus\". The same applies for incrementalStatus, but that can be fixed in a separate CL.",
      "range": {
        "startLine": 35,
        "startChar": 25,
        "endLine": 35,
        "endChar": 38
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b8793bd0_754c1c01",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Changed to \u0027isPartial\u0027, \u0027isIncremental\u0027",
      "parentUuid": "7264b090_a68f095a",
      "range": {
        "startLine": 35,
        "startChar": 25,
        "endLine": 35,
        "endChar": 38
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7423741_604cf123",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Can we make each partition an actual checkbox, instead of an add button + a minus button? It might also be worth re-factoring this into a MultiSelect component, which receives a list of options as props, then render a list of checkbox.",
      "range": {
        "startLine": 39,
        "startChar": 10,
        "endLine": 54,
        "endChar": 21
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e56466eb_1b63a8ed",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Yes. I changed this into a multi-checkboxes.",
      "parentUuid": "b7423741_604cf123",
      "range": {
        "startLine": 39,
        "startChar": 10,
        "endLine": 54,
        "endChar": 21
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0dc8ee4f_7a828248",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "API service should never return something that the caller needs to do additional parsing. Either let the backend return structured data, or make API service handle any additional parsing. Caller should not be aware of the storage format of data.",
      "range": {
        "startLine": 132,
        "startChar": 34,
        "endLine": 132,
        "endChar": 44
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1c0e66db_6b6b2964",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Changed the backend, now it will automatically return a structured object.",
      "parentUuid": "0dc8ee4f_7a828248",
      "range": {
        "startLine": 132,
        "startChar": 34,
        "endLine": 132,
        "endChar": 44
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf7ab766_5c763c11",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 170,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Consider using https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
      "range": {
        "startLine": 170,
        "startChar": 0,
        "endLine": 170,
        "endChar": 57
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd33bfbb_6e103e33",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 170,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Now use `for (let entry of response.data)`.",
      "parentUuid": "cf7ab766_5c763c11",
      "range": {
        "startLine": 170,
        "startChar": 0,
        "endLine": 170,
        "endChar": 57
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3af39ab3_60b377c8",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 205,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Seems less ideal that we are storing partial partition list as a raw string and manipulating it here. Consider storing partial partition list as a map or set, and format to a string whenever we need to display/transmit it.",
      "range": {
        "startLine": 205,
        "startChar": 19,
        "endLine": 205,
        "endChar": 26
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dea54683_786e3032",
        "filename": "tools/otagui/src/views/SimpleForm.vue",
        "patchSetId": 4
      },
      "lineNbr": 205,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "I set a Map element to store the status. The Map element will only change when a checkbox being checked/unchecked. The string will be re-generated every time the map element being updated.",
      "parentUuid": "3af39ab3_60b377c8",
      "range": {
        "startLine": 205,
        "startChar": 19,
        "endLine": 205,
        "endChar": 26
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77ddd44f_9538d174",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 10,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Try not to make everything global unless really needed... Turn it into a class, with name/path of database passed in(can also add a default value). This makes it easy for us to add unittest in the future.",
      "range": {
        "startLine": 10,
        "startChar": 4,
        "endLine": 10,
        "endChar": 8
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8679ecc3_d59994ac",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 10,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Turned into a class.",
      "parentUuid": "77ddd44f_9538d174",
      "range": {
        "startLine": 10,
        "startChar": 4,
        "endLine": 10,
        "endChar": 8
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dcba72bd_a0a941a4",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Same here, consider using named tuple(or dataclass https://docs.python.org/3/library/dataclasses.html) if possible",
      "range": {
        "startLine": 80,
        "startChar": 4,
        "endLine": 80,
        "endChar": 14
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "90d9c6d2_eb4921b1",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Use dataclass as a substitute.",
      "parentUuid": "dcba72bd_a0a941a4",
      "range": {
        "startLine": 80,
        "startChar": 4,
        "endLine": 80,
        "endChar": 14
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96031087_c4ab0808",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "Consider turning `target_info` into a named tuple instead of dynamic dictionary, because we actually know all possible fields on this dictionary.",
      "range": {
        "startLine": 119,
        "startChar": 8,
        "endLine": 119,
        "endChar": 19
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5726a82_3539b480",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 119,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Now use a dataclass to store the target_info.",
      "parentUuid": "96031087_c4ab0808",
      "range": {
        "startLine": 119,
        "startChar": 8,
        "endLine": 119,
        "endChar": 19
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f64447f1_7428179a",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2021-06-14T14:15:08Z",
      "side": 1,
      "message": "It\u0027s generally less ideal to store JSON as string in databases, as we would just use NoSQL in that case. It\u0027s okay to do it here for simplicity, but your `sql_to_dict` function should then de-serialize Partitions into a list of string.",
      "range": {
        "startLine": 132,
        "startChar": 79,
        "endLine": 132,
        "endChar": 89
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0ddfef62_1dd08d80",
        "filename": "tools/otagui/target_lib.py",
        "patchSetId": 4
      },
      "lineNbr": 132,
      "author": {
        "id": 1880180
      },
      "writtenOn": "2021-06-14T21:39:39Z",
      "side": 1,
      "message": "Unfortunately, sqlite could only store few very simple data type, excluding array/list. It\u0027s easier to store the partition list as a \u0027string\u0027 in the database.\n\nI modified the \u0027sql_to_dict\u0027 function, now it can parse the \u0027partitions\u0027 column in the database, into a list.",
      "parentUuid": "f64447f1_7428179a",
      "range": {
        "startLine": 132,
        "startChar": 79,
        "endLine": 132,
        "endChar": 89
      },
      "revId": "571ae5a0cba27a2b5f7c908ef3c04f8fe7e8d13f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}